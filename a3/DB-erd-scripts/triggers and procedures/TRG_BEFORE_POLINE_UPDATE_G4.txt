DELIMITER //
CREATE TRIGGER TRG_BEFORE_POLINE_UPDATE_G4
BEFORE
UPDATE ON POLinesG4
FOR EACH ROW
BEGIN
	-- FOR EACH POLineG4 UPDATE EVENT, (1) ADD BACK THE PREVIOUSLY ORDERED QTY AND (2) DEDUCT THE NEWLY ORDERED QTY, 
    	-- FROM THE PART INVENTORY IN THE PartsG4 TABLE.
	UPDATE PartsG4 p SET p.qtyG4 = p.qtyG4 + OLD.qtyG4 - NEW.qtyG4 WHERE p.partNoG4 = NEW.partNoG4;
END  //
DELIMITER ;
